{"mappings":"AACA,IAAIA,EAAQ,CAAEC,KAAM,SAAUC,GAAK,OAAO,IAAIC,SAAQ,SAAUC,EAAGC,GAAKH,EAAEI,QAAUC,KAAKC,MAAM,IAAMD,KAAKE,SAAW,GAAIP,EAAEQ,OAAS,OAAQ,IAAIC,EAAIC,KAAKC,UAAUX,GAAIF,EAAMc,SAAS,qCAAsCH,GAAG,SAAUI,GAAKX,EAAEW,UAAYD,SAAU,SAAUE,EAAGZ,EAAGO,GAAK,IAAIT,EAAIF,EAAMiB,kBAAkB,OAAQD,GAAId,EAAEgB,iBAAiB,eAAgB,qCAAsChB,EAAEiB,OAAS,WAAc,IAAIJ,EAAIb,EAAEkB,aAAc,MAAQT,GAAKA,EAAEI,IAAMb,EAAED,KAAKG,IAAMiB,KAAM,SAAUC,EAAGlB,GAAK,IAAIO,EAAIX,EAAMiB,kBAAkB,MAAOK,GAAIX,EAAEQ,OAAS,WAAc,IAAIJ,EAAIJ,EAAES,aAAc,MAAQhB,GAAKA,EAAEW,IAAMJ,EAAEV,QAAUgB,kBAAmB,SAAUF,EAAGX,GAAK,IAAIO,EAAI,IAAIY,eAAgB,MAAO,oBAAqBZ,EAAIA,EAAEa,KAAKT,EAAGX,GAAG,GAAM,oBAAsBqB,gBAAkBd,EAAI,IAAIc,gBAAgBD,KAAKT,EAAGX,GAAKO,EAAI,KAAMA,IAEn0Be,EAAe1B,ECAf,MAAM2B,EAAMC,SAASC,cAAc,sBAC7BC,EAAaF,SAASC,cAAc,iBACpCE,EAAYH,SAASC,cAAc,mBAEnCG,EAAa,ICPJ,MAKbC,gBACE,OAAOC,OAAOC,KAAKC,WAAWC,OAC3BC,cACAC,MAAK,yJAKVC,qBACE,GAA8B,KAA1BL,KAAKC,WAAWC,MAGlB,OAFAF,KAAKC,WAAWK,UAAUC,OAAO,cACjCP,KAAKC,WAAWK,UAAUC,OAAO,WAG/BP,KAAKF,iBACPE,KAAKC,WAAWK,UAAUC,OAAO,SACjCP,KAAKC,WAAWK,UAAUE,IAAI,aAE9BR,KAAKC,WAAWK,UAAUC,OAAO,WACjCP,KAAKC,WAAWK,UAAUE,IAAI,UAvBlCC,YAAYR,GACVD,KAAKC,WAAaA,IDKYN,GAE5Be,EAAc,OAEhBf,EAAWW,UAAUK,SAAS,YAC7Bf,EAAUU,UAAUK,SAAS,UACV,KAApBf,EAAUM,OAMdP,EAAWiB,iBAAiB,YAAY,WACtCf,EAAWQ,qBACPK,IACFlB,EAAIc,UAAUC,OAAO,WAErBf,EAAIc,UAAUE,IAAI,cAItBZ,EAAUgB,iBAAiB,YAAY,WACb,KAApBhB,EAAUM,MACZN,EAAUU,UAAUE,IAAI,SAExBZ,EAAUU,UAAUC,OAAO,SAGzBG,IACFlB,EAAIc,UAAUC,OAAO,WAErBf,EAAIc,UAAUE,IAAI,cAYtBhB,EAAIoB,iBAAiB,SAAS,WAC5BrB,EAAMzB,KAAK,CACT+C,YAAW,uCACXC,GAAInB,EAAWO,MACfa,KAAM,kBACNC,QAAS,qBACTC,KAAMrB,EAAUM,QACfgB,MAAMC,GAAYC,QAAQC,IAAIF,KAEjCC,QAAQC,IAAI,SAhBVzB,EAAUM,MAAQ,GAClBP,EAAWO,MAAQ,GACnBP,EAAWW,UAAUC,OAAO,WAC5Bf,EAAIc,UAAUE,IAAI","sources":["src/js/smtp.js","src/js/script.js","src/js/email-field.js"],"sourcesContent":["ï»¿/* SmtpJS.com - v3.0.0 */\r\nvar Email = { send: function (a) { return new Promise(function (n, e) { a.nocache = Math.floor(1e6 * Math.random() + 1), a.Action = \"Send\"; var t = JSON.stringify(a); Email.ajaxPost(\"https://smtpjs.com/v3/smtpjs.aspx?\", t, function (e) { n(e) }) }) }, ajaxPost: function (e, n, t) { var a = Email.createCORSRequest(\"POST\", e); a.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\"), a.onload = function () { var e = a.responseText; null != t && t(e) }, a.send(n) }, ajax: function (e, n) { var t = Email.createCORSRequest(\"GET\", e); t.onload = function () { var e = t.responseText; null != n && n(e) }, t.send() }, createCORSRequest: function (e, n) { var t = new XMLHttpRequest; return \"withCredentials\" in t ? t.open(e, n, !0) : \"undefined\" != typeof XDomainRequest ? (t = new XDomainRequest).open(e, n) : t = null, t } };\r\n\r\nexport default Email;","import EmailField from './email-field.js';\r\nimport Email from './smtp.js';\r\n\r\nconst btn = document.querySelector('.form__send-button');\r\nconst emailInput = document.querySelector('.email__field');\r\nconst textInput = document.querySelector('.message__field');\r\n\r\nconst emailField = new EmailField(emailInput);\r\n\r\nconst checkInputs = () => {\r\n  if (\r\n    emailInput.classList.contains('confirm') &&\r\n    !textInput.classList.contains('wrong') &&\r\n    textInput.value !== ''\r\n  )\r\n    return true;\r\n  return false;\r\n};\r\n\r\nemailInput.addEventListener('focusout', function () {\r\n  emailField.checkValidateEmail();\r\n  if (checkInputs()) {\r\n    btn.classList.remove('disable');\r\n  } else {\r\n    btn.classList.add('disable');\r\n  }\r\n});\r\n\r\ntextInput.addEventListener('focusout', function () {\r\n  if (textInput.value === '') {\r\n    textInput.classList.add('wrong');\r\n  } else {\r\n    textInput.classList.remove('wrong');\r\n  }\r\n\r\n  if (checkInputs()) {\r\n    btn.classList.remove('disable');\r\n  } else {\r\n    btn.classList.add('disable');\r\n  }\r\n});\r\n\r\nconst clearForm = () => {\r\n    textInput.value = '';\r\n    emailInput.value = '';\r\n    emailInput.classList.remove('confirm');\r\n    btn.classList.add('disable');\r\n\r\n}\r\n\r\nbtn.addEventListener('click', function () {\r\n  Email.send({\r\n    SecureToken: process.env.SECURITY_TOKEN,\r\n    To: emailInput.value,\r\n    From: 'fearos@valar.ru',\r\n    Subject: 'Test email sending',\r\n    Body: textInput.value,\r\n  }).then((message) => console.log(message));\r\n\r\n  console.log('click');\r\n  clearForm();\r\n});\r\n","export default class EmailField {\r\n  constructor(emailField) {\r\n    this.emailField = emailField;\r\n  }\r\n\r\n  validateEmail() {\r\n    return String(this.emailField.value)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  }\r\n\r\n  checkValidateEmail() {\r\n    if (this.emailField.value === '') {\r\n      this.emailField.classList.remove('wrong');\r\n      this.emailField.classList.remove('confirm');\r\n      return;\r\n    }\r\n    if (this.validateEmail()) {\r\n      this.emailField.classList.remove('wrong');\r\n      this.emailField.classList.add('confirm');\r\n    } else {\r\n      this.emailField.classList.remove('confirm');\r\n      this.emailField.classList.add('wrong');\r\n    }\r\n  }\r\n}\r\n"],"names":["$106dde879b5e08ff$var$Email","send","a","Promise","n","e1","nocache","Math","floor","random","Action","t","JSON","stringify","ajaxPost","e","e2","createCORSRequest","setRequestHeader","onload","responseText","ajax","e3","XMLHttpRequest","open","XDomainRequest","$106dde879b5e08ff$export$2e2bcd8739ae039","$1ee2b6306238ec66$var$btn","document","querySelector","$1ee2b6306238ec66$var$emailInput","$1ee2b6306238ec66$var$textInput","$1ee2b6306238ec66$var$emailField","validateEmail","String","this","emailField","value","toLowerCase","match","checkValidateEmail","classList","remove","add","constructor","$1ee2b6306238ec66$var$checkInputs","contains","addEventListener","SecureToken","To","From","Subject","Body","then","message","console","log"],"version":3,"file":"script.f859cc23.js.map"}