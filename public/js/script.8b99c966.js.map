{"mappings":"YACA,IAAIA,EAAQ,CAAEC,KAAM,SAAUC,GAAK,OAAO,IAAIC,SAAQ,SAAUC,EAAGC,GAAKH,EAAEI,QAAUC,KAAKC,MAAM,IAAMD,KAAKE,SAAW,GAAIP,EAAEQ,OAAS,OAAQ,IAAIC,EAAIC,KAAKC,UAAUX,GAAIF,EAAMc,SAAS,qCAAsCH,GAAG,SAAUI,GAAKX,EAAEW,UAAYD,SAAU,SAAUE,EAAGZ,EAAGO,GAAK,IAAIT,EAAIF,EAAMiB,kBAAkB,OAAQD,GAAId,EAAEgB,iBAAiB,eAAgB,qCAAsChB,EAAEiB,OAAS,WAAc,IAAIJ,EAAIb,EAAEkB,aAAc,MAAQT,GAAKA,EAAEI,IAAMb,EAAED,KAAKG,IAAMiB,KAAM,SAAUC,EAAGlB,GAAK,IAAIO,EAAIX,EAAMiB,kBAAkB,MAAOK,GAAIX,EAAEQ,OAAS,WAAc,IAAIJ,EAAIJ,EAAES,aAAc,MAAQhB,GAAKA,EAAEW,IAAMJ,EAAEV,QAAUgB,kBAAmB,SAAUF,EAAGX,GAAK,IAAIO,EAAI,IAAIY,eAAgB,MAAO,oBAAqBZ,EAAIA,EAAEa,KAAKT,EAAGX,GAAG,GAAM,oBAAsBqB,gBAAkBd,EAAI,IAAIc,gBAAgBD,KAAKT,EAAGX,GAAKO,EAAI,KAAMA,IAEn0Be,EAAe1B,ECAf,MAAM2B,EAAMC,SAASC,cAAc,sBAC7BC,EAAaF,SAASC,cAAc,iBACpCE,EAAYH,SAASC,cAAc,mBAEnCG,EAAO,ICPE,MAObC,SAASC,EAAOC,GACd,MAAMC,EAAgC,YAAdD,EAA0B,UAAY,UAC9DD,EAAMG,UAAUC,OAAOF,GACvBF,EAAMG,UAAUE,IAAIJ,GAGtBK,gBACE,OAAOC,OAAOC,KAAKC,WAAWC,OAC3BC,cACAC,MAAK,yJAGJ,UACA,UAGNC,qBAEE,OADAL,KAAKT,SAASS,KAAKC,WAAYD,KAAKF,iBAC7BE,KAAKF,gBAGdQ,mBACE,MAAMC,EACwB,KAA5BP,KAAKQ,aAAaN,MAAe,UAAY,UAE/C,OADAF,KAAKT,SAASS,KAAKQ,aAAcD,GAC1BA,EAGTE,kBACE,MAAMC,EAC0B,YAA9BV,KAAKK,sBACuB,YAA5BL,KAAKM,mBACD,UACA,UACNN,KAAKT,SAASS,KAAKW,WAAYD,GAGjCE,YACEZ,KAAKC,WAAWC,MAAQ,GACxBF,KAAKQ,aAAaN,MAAQ,GAC1BF,KAAKC,WAAWN,UAAUC,OAAO,WACjCI,KAAKQ,aAAab,UAAUC,OAAO,WACnCI,KAAKT,SAASS,KAAKW,WAAY,WAhDjCE,YAAYZ,EAAYO,EAAcG,GACpCX,KAAKC,WAAaA,EAClBD,KAAKQ,aAAeA,EACpBR,KAAKW,WAAaA,IDGAvB,EAAYC,EAAWJ,GAE7CG,EAAW0B,iBAAiB,YAAY,WACtCxB,EAAKe,qBACLf,EAAKmB,qBAGPpB,EAAUyB,iBAAiB,YAAY,WACrCxB,EAAKgB,mBACLhB,EAAKmB,qBAGPxB,EAAI6B,iBAAiB,SAAS,WAC5B9B,EAAMzB,KAAK,CACTwD,YAAW,uCACXC,GAAI5B,EAAWc,MACfe,KAAM,kBACNC,QAAS,qBACTC,KAAM9B,EAAUa,QACfkB,MAAMC,GAAYC,QAAQC,IAAIF,KAEjC/B,EAAKsB,e","sources":["src/js/smtp.js","src/js/script.js","src/js/form.js"],"sourcesContent":["ï»¿/* SmtpJS.com - v3.0.0 */\r\nvar Email = { send: function (a) { return new Promise(function (n, e) { a.nocache = Math.floor(1e6 * Math.random() + 1), a.Action = \"Send\"; var t = JSON.stringify(a); Email.ajaxPost(\"https://smtpjs.com/v3/smtpjs.aspx?\", t, function (e) { n(e) }) }) }, ajaxPost: function (e, n, t) { var a = Email.createCORSRequest(\"POST\", e); a.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\"), a.onload = function () { var e = a.responseText; null != t && t(e) }, a.send(n) }, ajax: function (e, n) { var t = Email.createCORSRequest(\"GET\", e); t.onload = function () { var e = t.responseText; null != n && n(e) }, t.send() }, createCORSRequest: function (e, n) { var t = new XMLHttpRequest; return \"withCredentials\" in t ? t.open(e, n, !0) : \"undefined\" != typeof XDomainRequest ? (t = new XDomainRequest).open(e, n) : t = null, t } };\r\n\r\nexport default Email;","import Form from './form.js';\r\nimport Email from './smtp.js';\r\n\r\nconst btn = document.querySelector('.form__send-button');\r\nconst emailInput = document.querySelector('.email__field');\r\nconst textInput = document.querySelector('.message__field');\r\n\r\nconst form = new Form(emailInput, textInput, btn);\r\n\r\nemailInput.addEventListener('focusout', function () {\r\n  form.checkValidateEmail();\r\n  form.checkSendButton();\r\n});\r\n\r\ntextInput.addEventListener('focusout', function () {\r\n  form.checkMessageText();\r\n  form.checkSendButton();\r\n});\r\n\r\nbtn.addEventListener('click', function () {\r\n  Email.send({\r\n    SecureToken: process.env.SECURITY_TOKEN,\r\n    To: emailInput.value,\r\n    From: 'fearos@valar.ru',\r\n    Subject: 'Test email sending',\r\n    Body: textInput.value,\r\n  }).then((message) => console.log(message));\r\n\r\n  form.clearForm();\r\n});\r\n","export default class Form {\r\n  constructor(emailField, messageField, sendButton) {\r\n    this.emailField = emailField;\r\n    this.messageField = messageField;\r\n    this.sendButton = sendButton;\r\n  }\r\n\r\n  addClass(input, className) {\r\n    const removeClassName = className === 'disable' ? 'confirm' : 'disable';\r\n    input.classList.remove(removeClassName);\r\n    input.classList.add(className);\r\n  }\r\n\r\n  validateEmail() {\r\n    return String(this.emailField.value)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      )\r\n      ? 'confirm'\r\n      : 'disable';\r\n  }\r\n\r\n  checkValidateEmail() {\r\n    this.addClass(this.emailField, this.validateEmail());\r\n    return this.validateEmail();\r\n  }\r\n\r\n  checkMessageText() {\r\n    const validateMessage =\r\n      this.messageField.value === '' ? 'disable' : 'confirm';\r\n    this.addClass(this.messageField, validateMessage);\r\n    return validateMessage;\r\n  }\r\n\r\n  checkSendButton() {\r\n    const statusButton =\r\n      this.checkValidateEmail() === 'confirm' &&\r\n      this.checkMessageText() === 'confirm'\r\n        ? 'confirm'\r\n        : 'disable';\r\n    this.addClass(this.sendButton, statusButton);\r\n  }\r\n\r\n  clearForm() {\r\n    this.emailField.value = '';\r\n    this.messageField.value = '';\r\n    this.emailField.classList.remove('confirm');\r\n    this.messageField.classList.remove('confirm');\r\n    this.addClass(this.sendButton, 'disable');\r\n  }\r\n}\r\n"],"names":["$a681ef928cd52c10$var$Email","send","a","Promise","n","e1","nocache","Math","floor","random","Action","t","JSON","stringify","ajaxPost","e","e2","createCORSRequest","setRequestHeader","onload","responseText","ajax","e3","XMLHttpRequest","open","XDomainRequest","$a681ef928cd52c10$export$2e2bcd8739ae039","$66b821ea461d9f2a$var$btn","document","querySelector","$66b821ea461d9f2a$var$emailInput","$66b821ea461d9f2a$var$textInput","$66b821ea461d9f2a$var$form","addClass","input","className","removeClassName","classList","remove","add","validateEmail","String","this","emailField","value","toLowerCase","match","checkValidateEmail","checkMessageText","validateMessage","messageField","checkSendButton","statusButton","sendButton","clearForm","constructor","addEventListener","SecureToken","To","From","Subject","Body","then","message","console","log"],"version":3,"file":"script.8b99c966.js.map"}